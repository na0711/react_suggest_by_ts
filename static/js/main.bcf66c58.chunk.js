(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,s){},16:function(t,e,s){},17:function(t,e,s){"use strict";s.r(e);var i=s(0),n=s.n(i),a=s(3),o=s.n(a),l=(s(15),s(4)),u=s(5),c=s(7),r=s(6),f=s(1),h=s(8);s(16);function g(t){return t.isVisible?""===t.query?null:1===t.filterList.length&&t.filterList[0]&&t.filterList[0].name===t.query?null:0===t.filterList.length?n.a.createElement("div",{className:"suggest__list-wrap"},n.a.createElement("div",{className:"suggest__list"},n.a.createElement("div",{className:"suggest__list-item is-notfound"},"\u5019\u88dc\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"))):n.a.createElement("div",{className:"suggest__list-wrap"},n.a.createElement("ul",{className:"suggest__list"},t.filterList.map(function(e,s){var i=s===t.focus?"is-focus":"";return n.a.createElement("li",{className:"suggest__list-item ".concat(i),"data-key":e.code,key:e.code,onClick:t.onclick},e.name)}))):null}var m=function(t){function e(t){var s;return Object(l.a)(this,e),(s=Object(c.a)(this,Object(r.a)(e).call(this,t))).filterList=[],s.originList=[],s.url=void 0,s.suggestDom=n.a.createRef(),s.state={query:"",focus:-1,isVisible:!1},s.url=t.url,s.fetchList(),s.listClose=s.listClose.bind(Object(f.a)(s)),s.handleClick=s.handleClick.bind(Object(f.a)(s)),s}return Object(h.a)(e,t),Object(u.a)(e,[{key:"handleClick",value:function(t){var e=t.target.dataset.key,s=this.filterList.find(function(t){return t.code===e});s&&s.name&&this.setState({query:s.name,focus:-1})}},{key:"handleChange",value:function(t){var e=""!==t.target.value;this.setState({query:t.target.value,focus:-1,isVisible:e})}},{key:"handleKeyup",value:function(t){var e=t.which||t.keyCode||0;return 38===e?(this.moveFocus(-1),!1):40===e?(this.moveFocus(1),!1):13===e?(this.selectSuggest(),!1):void 0}},{key:"moveFocus",value:function(t){return!(!this.state.isVisible&&1===t)&&((this.state.focus!==this.filterList.length-1||1!==t)&&void this.setState({focus:this.state.focus+t}))}},{key:"selectSuggest",value:function(){if(-1===this.state.focus)return!1;this.setState({query:this.filterList[this.state.focus].name,focus:-1})}},{key:"fetchList",value:function(){var t=this;fetch(this.url).then(function(t){if(t.clone().json())return t.clone().json();throw new Error("file not found.")}).then(function(e){t.originList=e.data}).catch(function(t){console.log(t)})}},{key:"listClose",value:function(t){var e=this,s=!1;t.path.forEach(function(t){s=t===e.suggestDom.current||s}),!s&&this.state.isVisible&&this.setState({isVisible:!1})}},{key:"render",value:function(){var t=this,e=this.state.query;return this.filterList=this.originList.filter(function(t){return""!==e&&(~t.yomi.indexOf(e)||~t.name.indexOf(e))}),n.a.createElement("div",{className:"suggest",ref:this.suggestDom},n.a.createElement("input",{type:"text",name:"hoge",value:e,onChange:function(e){return t.handleChange(e)},onKeyUp:function(e){t.handleKeyup(e)},className:"suggest__input"}),n.a.createElement(g,{filterList:this.filterList,query:e,isVisible:this.state.isVisible,focus:this.state.focus,onclick:this.handleClick}))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.listClose)}},{key:"componentDidUpdate",value:function(t,e){if(-1!==this.state.focus&&this.state.focus!==e.focus){var s=this.state.focus,i=this.suggestDom.current.getElementsByClassName("suggest__list-wrap"),n=this.suggestDom.current.getElementsByClassName("suggest__list-item");if(i[0]&&n[s]){for(var a=0,o=0;o<s;o++){a+=n[o].getBoundingClientRect().height}i[0].scrollTop=a}}}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(m,{url:"./suggest_list.json"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,s){t.exports=s(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.bcf66c58.chunk.js.map